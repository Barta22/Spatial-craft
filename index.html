<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>3D Model Viewer</title>
  <style>
    body {
      background-color: transparent;
      font-family: sans-serif;
      display: flex;
      flex-direction: column;
      align-items: center;
      padding: 40px;
    }

    #viewer {
      width: 300px;
      height: 300px;
      border-radius: 16px;
      box-shadow: 0 0 20px rgba(0,0,0,0.2);
      overflow: hidden;
      position: relative;
      background-color: #fff;
    }

    model {
      width: 100%;
      height: 100%;
    }

    .controls {
      margin-top: 20px;
      display: flex;
      gap: 20px;
    }

    button {
      padding: 10px 20px;
      font-size: 16px;
      border: none;
      border-radius: 8px;
      cursor: pointer;
      background-color: #444;
      color: white;
    }
  </style>
</head>
<body>

  <div id="viewer">
    <model id="modelViewer" stagemode="orbit">
      <img src="pottery-fallback.jpg" alt="Model preview" style="width:100%; height:100%; object-fit:cover;">
    </model>
  </div>

  <div class="controls">
    <button onclick="prevModel()">Previous</button>
    <button onclick="nextModel()">Next</button>
  </div>

  <script>
    const models = [
      { src: "Jasons pottery.usdz", fallback: "pottery-fallback.jpg", alt: "Pottery" },
      { src: "AnotherModel.usdz", fallback: "another-fallback.jpg", alt: "Another model" },
      { src: "bowl 2.usdz", fallback: "another-fallback.jpg", alt: "Bowl" },
      { src: "Crystal bottle.usdz", fallback: "cup-fallback.jpg", alt: "Crystal bottle" },
      { src: "vase 1.usdz", fallback: "vase-fallback.jpg", alt: "Vase 1" },
      { src: "vase 2.usdz", fallback: "plate-fallback.jpg", alt: "Vase 2" }
    ];

    let currentIndex = 0;

    function showModel(index) {
      const modelData = models[index];
      const viewer = document.getElementById("viewer");

      // Remove old model
      const oldModel = document.getElementById("modelViewer");
      if (oldModel) oldModel.remove();

      // Create new model element
      const model = document.createElement("model");
      model.setAttribute("id", "modelViewer");
      model.setAttribute("stagemode", "orbit");
      model.setAttribute("src", modelData.src);

      const img = document.createElement("img");
      img.src = modelData.fallback;
      img.alt = modelData.alt;
      img.style.width = "100%";
      img.style.height = "100%";
      img.style.objectFit = "cover";

      model.appendChild(img);
      viewer.appendChild(model);
    }

    function nextModel() {
      currentIndex = (currentIndex + 1) % models.length;
      showModel(currentIndex);
    }

    function prevModel() {
      currentIndex = (currentIndex - 1 + models.length) % models.length;
      showModel(currentIndex);
    }

    // Load the first model
    showModel(currentIndex);
  </script>

</body>
</html>
